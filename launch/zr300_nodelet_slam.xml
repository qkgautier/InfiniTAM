<!-- Sample launch file for using RealSense ZR300 camera with rgbd_launch -->
<launch>

  <!-- "camera" should be a user friendly string to uniquely identify the device namespace.
       All topics are pushed down into the "camera" namespace, and it is prepended to tf frame ids. -->
  <arg name="camera"          default="camera" />

  <!-- Type of RealSense camera -->
  <arg name="camera_type"     default="ZR300" />

  <!-- "serial_no" or "usb_port_id" should be a unique identifier to connect to a device -->
  <arg name="serial_no"     default="" />
  <arg name="usb_port_id"   default="" /> <!-- USB "Bus#-Port#" -->


  <!-- Arguments for remapping all device namespaces -->
  <arg name="depth"            default="depth" />
  <arg name="rgb"              default="color" />
  <arg name="ir"               default="ir" />
  <arg name="ir2"              default="ir2" />
  <arg name="fisheye"          default="fisheye" />

  <!-- Optionally suppress loading the driver nodelet. Useful while playing back recorded raw data from a bag.-->
  <arg name="load_driver"   default="true" />
  <arg name="publish_tf"    default="true" />

  <!-- Worker threads for the nodelet manager -->
  <arg name="num_worker_threads" default="4" />


  <!-- Start nodelet manager in provided namespace -->
  <arg name="manager" value="$(arg camera)_nodelet_manager" />
  <arg name="debug" default="false" /> <!-- Run manager in GDB? -->
  <include file="$(find rgbd_launch)/launch/includes/manager.launch.xml">
    <arg name="name"                value="$(arg manager)" />
    <arg name="debug"               value="$(arg debug)" />
    <arg name="num_worker_threads"  value="$(arg num_worker_threads)" />
  </include>



  <include if="$(arg load_driver)"
           file="$(find infinitam)/launch/slam_camera.xml">
    <arg name="manager"        value="$(arg manager)"/>
    <arg name="serial_no"      value="$(arg serial_no)" />
    <arg name="camera"         value="$(arg camera)"/>
    <arg name="depth"          value="$(arg depth)" />
    <arg name="rgb"            value="$(arg rgb)" />
    <arg name="fisheye"        value="$(arg fisheye)" />
    <arg name="accel"          value="accel" />
    <arg name="gyro"           value="gyro" />
    <arg name="fisheye_width"  value="640" />
    <arg name="fisheye_height" value="480" />
    <arg name="enable_fisheye" value="true" />
    <arg name="depth_width"    value="320" />
    <arg name="depth_height"   value="240" />
    <arg name="enable_depth"   value="true" />
    <arg name="color_width"    value="640" />
    <arg name="color_height"   value="480" />
    <arg name="enable_color"   value="true" />
    <arg name="fisheye_fps"    value="30" />
    <arg name="depth_fps"      value="30" />
    <arg name="color_fps"      value="30" />
  </include>


  <include file="$(find realsense_ros_slam)/launch/slam_nodelet.launch">  
      <arg name="manager" value="$(arg manager)"/>
      <arg name="publish_odometry" value="true" />   
      <arg name="load_relocalization_map" value=""/>
      <arg name="load_occupancy_map" value=""/>
  </include>


</launch>
